<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
<link rel="stylesheet" type="text/css"
	href="../css/jquery.dataTables.css">
<!-- jQuery -->
<script type="text/javascript" charset="utf8" src="../js/jquery.js"></script>
<!-- DataTables -->
<script type="text/javascript" charset="utf8" src="../js/jquery.dataTables.js"></script>
<script type="text/javascript" charset="utf8" src="../js/moment.js"></script>
<script type="text/javascript" charset="utf8" src="../js/apitest.js"></script>

</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-sm-12">
				<div class="page-header el-page-header J-subnav-head">
					<h1 class="pull-left">
						<span>API 测试接口</span>
					</h1>
					<div class="pull-right el-pull-right">
						<div class="el-button"  style = " margin-top: 20px;">
							<button type="button" id = "addButton" class="btn btn-primary" onclick=add()>新增测试</button>
							<button type="button" id = "excelButton" class="btn btn-primary hidden" onclick=excel()>导出</button>
							<button type="button" id = "returnButton"class="btn btn-primary hidden" onclick=list()>返回</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="container " style="margin-top:20px">
		<div class="row J-grid">
			<table id="apitest" class="display " cellspacing="0" width="100%">
				<thead>
					<tr>
						<th>操作人</th>
						<th>编码</th>
						<th>地址</th>
						<th>请求方式</th>
						<th>并发次数</th>
						<th>操作</th>
					</tr>
				</thead>
			</table>
		</div>
		
		<div class="row J-gridDetail hidden">
			<table id="apitestdetail" class="display " cellspacing="0" width="100%">
				<thead>
					<tr>
						<th style = "width: 15%">开始时间</th>
						<th style = "width: 15%">完成时间</th>
						<th style = "width: 10%">响应时长(毫秒)</th>
						<th style = "width: 10%">状态</th>
						<th style = "width: 50%">返回结果</th>
					</tr>
				</thead>
			</table>
		</div>
		<div class="row J-form hidden ">
			<form class="form-horizontal" method="post" action="save" id = "paramsForm">
				<div class="form-group">
					<label class="col-sm-2 control-label">操作人</label>
					<div class="col-sm-8">
						<input type="text" class="form-control required" name = "name" id="name" placeholder="操作人">
					</div>
				</div>
				<div class="form-group ">
					<label for="code" class="col-sm-2 control-label">编码</label>
					<div class="col-sm-8">
						<input type="text" class="form-control required" name = "code" id="code" placeholder="编码">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">请求地址</label>
					<div class="col-sm-8">
						<input type="text" class="form-control required" name = "url" id="url" placeholder="请求地址">
					</div>
				</div>
				<div class="form-group ">
					<label class="col-sm-2 control-label">请求方式</label>
					<div class="col-sm-8">
						<select name = "type" id="type" class="form-control">
							<option value="POST">POST</option>
							<option value="GET">GET</option>
						</select>
					</div>
				</div>
				<div class="form-group ">
					<label class="col-sm-2 control-label">认证方式</label>
					<div class="col-sm-8">
						<select name = "authType" id="authType" class="form-control">
							<option value="access_token">Token</option>
							<option value="Cookie">Cookie</option>
						</select>
					</div>
				</div>
				<div class="form-group">
					<label for="uri" class="col-sm-2 control-label">认证信息(Cookie/Token)</label>
					<div class="col-sm-8">
						<input type="text" class="form-control required" name = "cookie" id="cookie" placeholder="认证信息(Cookie/Token)">
					</div>
				</div>
				<div class="form-group">
					<label for="uri" class="col-sm-2 control-label">并发次数</label>
					<div class="col-sm-8">
						<input type="text" class="form-control required" name = "count" id="count" placeholder="并发次数">
					</div>
				</div>
				<div class="form-group ">
					<label for="exampleUri" class="col-sm-2 control-label">请求参数</label>
					<div class="col-sm-8">
						<div class = "row">
							<div class="col-sm-offset-11">
							<button type="button" onclick=addParams() class="btn btn-primary">增加</button>
							</div>
						</div>
						<div class = "row">
							<table id = "params" class = "table table-bordered" style= "margin-top:5px;margin-left: 15px;">
								<thead>
								</thead>
								<tbody id = "paramstbody">
								</tbody>
							</table>
						</div>
					</div>
				</div>
				<div class="form-group ">
					<div class="col-sm-offset-2 col-sm-8">
						<button type="button" class="btn btn-primary" onclick = save() >测试</button>
						<button type="button" class="btn btn-default" onclick = list()>返回</button>
					</div>
				</div>
			</form>
		</div>
	</div>
	<input type="hidden" id = "mainId">
	<div class = "hidden">
		<table id = "example">
			<tr class = "Api-params">
				<td>
					<input type="text" class="form-control required" name = "key" placeholder="参数key">
				</td>
				<td>
					<input type="text" class="form-control required" name = "value" placeholder="参数value">
				</td>
				<td>
					<button type="button" class="btn btn-primary" onclick=removeParams() >删除</button>
				</td>
			</tr>
		</table>
	</div>
</body>
</html>